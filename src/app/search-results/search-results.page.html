<ion-header>

  <ion-searchbar placeholder={{keyRicerca}} [(ngModel)]="keywordToSearch"
      (search)="ricerca($event)"></ion-searchbar>


      <ion-segment (ionChange)="segmentChanged($event)" value="domande">
        <ion-segment-button value="domande" (click)="viewDomande()">
          <ion-label>Domande({{numDomande}})</ion-label>
        </ion-segment-button>
        <ion-segment-button value="sondaggi" (click)="viewSondaggi()">
          <ion-label>Sondaggi({{numSondaggi}})</ion-label>
        </ion-segment-button>
        <ion-segment-button value="utenti" (click) = "viewUtenti()">
          <ion-label>Utenti({{numUtenti}})</ion-label>
        </ion-segment-button>
      </ion-segment>



</ion-header>


<ion-content>

  <div *ngIf="domandeButton == true">

  <ion-list *ngFor="let domanda of domandeSearched; let i = index">

    <ion-card>
      <ion-card-header>
        <ion-card-title>{{domanda.titolo}}</ion-card-title>
        <ion-card-subtitle>{{categorie[i]}}</ion-card-subtitle>

      </ion-card-header>

      <ion-card-content>
       <div *ngIf="domanda.descrizione.length>80; else noLongerThan80">
        {{domanda.descrizione.substring(0,80)}}...
       </div>

       <!-- ELSE -->
       <ng-template #noLongerThan80>
        <div>
          {{domanda.descrizione}}
        </div>
      </ng-template>

      </ion-card-content>
    </ion-card>

  </ion-list>
</div>

  <div *ngIf="sondaggiButton == true">

    <ion-list *ngFor="let sondaggio of sondaggiSearched; let i = index">

      <ion-card>
        <ion-card-header>
          <ion-card-title>{{sondaggio.titolo}}</ion-card-title>
          <ion-card-subtitle>{{categorieSondaggi[i]}}</ion-card-subtitle>
  
        </ion-card-header>
  
        
      </ion-card>
  
    </ion-list>

    
   </div>

   <div *ngIf="utentiButton == true">
    <ion-list *ngFor="let utente of utentiSearched; let i = index" >

      <ion-card>
        <ion-card-header>
          <ion-card-title>{{utente.username}}</ion-card-title>
          <ion-card-subtitle>{{utente.bio}}</ion-card-subtitle>
  
        </ion-card-header>
  
        
      </ion-card>
  
    </ion-list>
   </div>


</ion-content>
