<ion-header>

  <ion-toolbar>
    <ion-button slot="start" fill="clear" ion-button icon-only (click)="backButton()">
      <ion-icon name="arrow-back-outline"></ion-icon>
    </ion-button>

    <ion-title>Risultati della ricerca per</ion-title>
    <ion-label>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u><i>{{keyRicerca}}</i></u></p>
    </ion-label>

  </ion-toolbar>
  <ion-grid>
    <ion-row>
      <ion-col size="4">
        <ion-button expand="full" class="ion-text-wrap" (click)="viewDomande()">
          Domande
          <ion-text class="colorBlack">({{numDomande}})</ion-text>
        </ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="full" class="ion-text-wrap" (click)="viewSondaggi()">
          Sondaggi
          <ion-text class="colorBlack">({{numSondaggi}})</ion-text>
        </ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="full" class="ion-text-wrap" (click) = "viewUtenti()">
          Utenti
          <ion-text class="colorBlack">({{numUtenti}})</ion-text>
        </ion-button>
      </ion-col>
      <ion-col size="4"></ion-col>
    </ion-row>
  </ion-grid>

</ion-header>


<ion-content>

  <div *ngIf="domandeButton == true">

  <ion-list *ngFor="let domanda of domandeSearched; let i = index">

    <ion-card>
      <ion-card-header>
        <ion-card-title>{{domanda.titolo}}</ion-card-title>
        <ion-card-subtitle>{{categorie[i]}}</ion-card-subtitle>

      </ion-card-header>

      <ion-card-content>
       <div *ngIf="domanda.descrizione.length>80; else noLongerThan80">
        {{domanda.descrizione.substring(0,80)}}...
       </div>

       <!-- ELSE -->
       <ng-template #noLongerThan80>
        <div>
          {{domanda.descrizione}}
        </div>
      </ng-template>

      </ion-card-content>
    </ion-card>

  </ion-list>
</div>

  <div *ngIf="sondaggiButton == true">

    <ion-list *ngFor="let sondaggio of sondaggiSearched; let i = index">

      <ion-card>
        <ion-card-header>
          <ion-card-title>{{sondaggio.titolo}}</ion-card-title>
          <ion-card-subtitle>{{categorieSondaggi[i]}}</ion-card-subtitle>
  
        </ion-card-header>
  
        
      </ion-card>
  
    </ion-list>

    
   </div>

   <div *ngIf="utentiButton == true">
    <ion-list *ngFor="let utente of utentiSearched; let i = index" >

      <ion-card>
        <ion-card-header>
          <ion-card-title>{{utente.username}}</ion-card-title>
          <ion-card-subtitle>{{utente.bio}}</ion-card-subtitle>
  
        </ion-card-header>
  
        
      </ion-card>
  
    </ion-list>
   </div>


</ion-content>



}
